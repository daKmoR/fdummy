#!/bin/bash

domain=<yourdomain>;
password=<yourpassword>;

ssh -t $domain@clients.webteam.at "mysqldump --user=$domain --password=$password $domain > dump.sql && gzip dump.sql"

scp $domain@clients.webteam.at:dump.sql.gz dump.sql.gz

gunzip dump.sql.gz
mysql --user=root $domain < dump.sql

# remove files
rm dump.sql

# remove remote files
ssh -t $domain@clients.webteam.at "rm dump.sql.gz"